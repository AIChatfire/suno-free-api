#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Project      : AI.  @by PyCharm
# @File         : xx
# @Time         : 2024/6/20 14:31
# @Author       : betterme
# @WeChat       : meutils
# @Software     : PyCharm
# @Description  : 

from meutils.pipe import *
from meutils.db.redis_db import redis_client
d = {'id': '8e2c84d7-aba0-4312-9745-9e952f7d777e', 'clips': [{'id': '744343d9-3178-484e-aea0-86c3d8403037', 'video_url': '', 'audio_url': '', 'image_url': None, 'image_large_url': None, 'is_video_pending': False, 'major_model_version': 'v3', 'model_name': 'chirp-v3', 'metadata': {'tags': 'r&b', 'prompt': "[Verse]\nSun is high and the skies are blue\nFeels so good just being with you\n\n[Verse 2]\nWe got time and a world to see\nLiving life and we're feeling free\n\n[Chorus]\nOh oh sunny day delight\nEverything just feels so right\nOh oh shining so bright\nDance with me till the night\n\n[Verse 3]\nRunning wild under golden skies\nSmile so big can't believe my eyes\n\n[Bridge]\nHand in hand we can touch the stars\nDoesn't matter how far we are\n\n[Chorus]\nOh oh sunny day delight\nEverything just feels so right\nOh oh shining so bright\nDance with me till the night", 'gpt_description_prompt': None, 'audio_prompt_id': None, 'history': None, 'concat_history': None, 'type': 'gen', 'duration': None, 'refund_credits': None, 'stream': True, 'infill': None, 'has_vocal': None, 'is_audio_upload_tos_accepted': None, 'error_type': None, 'error_message': None}, 'is_liked': False, 'user_id': 'a715ef30-6122-4e06-9723-f9e3a178eeef', 'display_name': 'TurbulentAmp436', 'handle': 'turbulentamp436', 'is_handle_updated': False, 'avatar_image_url': None, 'is_trashed': False, 'reaction': None, 'created_at': '2024-06-20T06:30:51.213Z', 'status': 'submitted', 'title': 'Chatfire', 'play_count': 0, 'upvote_count': 0, 'is_public': False}, {'id': '7f801af0-6c87-4450-8b65-b784d494fe56', 'video_url': '', 'audio_url': '', 'image_url': None, 'image_large_url': None, 'is_video_pending': False, 'major_model_version': 'v3', 'model_name': 'chirp-v3', 'metadata': {'tags': 'r&b', 'prompt': "[Verse]\nSun is high and the skies are blue\nFeels so good just being with you\n\n[Verse 2]\nWe got time and a world to see\nLiving life and we're feeling free\n\n[Chorus]\nOh oh sunny day delight\nEverything just feels so right\nOh oh shining so bright\nDance with me till the night\n\n[Verse 3]\nRunning wild under golden skies\nSmile so big can't believe my eyes\n\n[Bridge]\nHand in hand we can touch the stars\nDoesn't matter how far we are\n\n[Chorus]\nOh oh sunny day delight\nEverything just feels so right\nOh oh shining so bright\nDance with me till the night", 'gpt_description_prompt': None, 'audio_prompt_id': None, 'history': None, 'concat_history': None, 'type': 'gen', 'duration': None, 'refund_credits': None, 'stream': True, 'infill': None, 'has_vocal': None, 'is_audio_upload_tos_accepted': None, 'error_type': None, 'error_message': None}, 'is_liked': False, 'user_id': 'a715ef30-6122-4e06-9723-f9e3a178eeef', 'display_name': 'TurbulentAmp436', 'handle': 'turbulentamp436', 'is_handle_updated': False, 'avatar_image_url': None, 'is_trashed': False, 'reaction': None, 'created_at': '2024-06-20T06:30:51.213Z', 'status': 'submitted', 'title': 'Chatfire', 'play_count': 0, 'upvote_count': 0, 'is_public': False}], 'metadata': {'tags': 'r&b', 'prompt': "[Verse]\nSun is high and the skies are blue\nFeels so good just being with you\n\n[Verse 2]\nWe got time and a world to see\nLiving life and we're feeling free\n\n[Chorus]\nOh oh sunny day delight\nEverything just feels so right\nOh oh shining so bright\nDance with me till the night\n\n[Verse 3]\nRunning wild under golden skies\nSmile so big can't believe my eyes\n\n[Bridge]\nHand in hand we can touch the stars\nDoesn't matter how far we are\n\n[Chorus]\nOh oh sunny day delight\nEverything just feels so right\nOh oh shining so bright\nDance with me till the night", 'gpt_description_prompt': None, 'audio_prompt_id': None, 'history': None, 'concat_history': None, 'type': 'gen', 'duration': None, 'refund_credits': None, 'stream': True, 'infill': None, 'has_vocal': None, 'is_audio_upload_tos_accepted': None, 'error_type': None, 'error_message': None}, 'major_model_version': 'v3', 'status': 'complete', 'created_at': '2024-06-20T06:30:51.206Z', 'batch_size': 1}



print(bjson(d))

song_id = 'xx'

print(redis_client.set(f"suno:{song_id}", json.dumps(d), ex=3600 * 24 * 100))